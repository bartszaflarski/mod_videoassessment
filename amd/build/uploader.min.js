/**
 * Video assessment
 *
 * @module mod_videoassessment/uploader
 * @package
 * @copyright  2024 Don Hinkleman (hinkelman@mac.com)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_videoassessment/uploader",["mod_videoassessment/utils"],(function(utils){return{upload(blob,mimeType){const formData=new FormData(document.querySelector("#mform")),fileName=utils.getFileName(mimeType.split("/")[1]);formData.append("isRecordVideo",1),formData.append(mimeType.startsWith("audio")?"audio":"video",blob,fileName);const url=document.querySelector("#mform").getAttribute("action"),id=formData.get("id"),xhr=new XMLHttpRequest;xhr.open("POST",url),xhr.onload=()=>{200===xhr.status&&(window.location.href="".concat(url,"?id=").concat(id))},xhr.send(formData)}}}));

//# sourceMappingURL=uploader.min.js.map