/**
 * Video assessment
 *
 * @package
 * @copyright  2024 Don Hinkleman (hinkelman@mac.com)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_videoassessment/ajaxcalls",["jquery","core/notification","core/ajax","core/modal_factory"],(function($,notification,ajax,ModalFactory){function Ajaxcall(){this.value="ajax ok"}return Ajaxcall.prototype.getGetallcomments=function(action,userid,timing,cmid,id){ajax.call([{methodname:"mod_videoassessment_get_getallcomments",args:{ajax:1,action:action,userid:userid,timing:timing,cmid:cmid,id:id},fail:notification.exception}])[0].then((function(data){let res=$.parseJSON(data.html);res&&$.when(ModalFactory.create({type:ModalFactory.types.CANCEL,title:"<h1>".concat(M.str.videoassessment.generalcomments,"</h1>"),body:res})).then((function(modal){return modal.show(),!1})).catch(notification.exception)}))},Ajaxcall.prototype.getcoursesbycategory=function(action,catid,currentcourseid){ajax.call([{methodname:"mod_videoassessment_get_coursesbycategory",args:{ajax:1,action:action,catid:catid,currentcourseid:currentcourseid},fail:notification.exception}])[0].then((function(data){data.html&&($("#publish-course").html(data.html),$("#publish-course").trigger("change"))}))},Ajaxcall.prototype.getsectionsbycourse=function(action,courseid,currentsectionid){ajax.call([{methodname:"mod_videoassessment_get_sectionsbycourse",args:{ajax:1,action:action,courseid:courseid,currentsectionid:currentsectionid},fail:notification.exception}])[0].then((function(data){data.html?($("#publish-section").html(data.html),$("#publish-section").removeAttr("disabled")):$("#publish-section").attr("disabled","disabled")}))},Ajaxcall.prototype.assignclasssortgroup=function(action,sort,groupid,id){ajax.call([{methodname:"mod_videoassessment_assignclass_sort_group",args:{action:action,sort:sort,groupid:groupid,id:id},fail:notification.exception}])[0].then((function(data){3==sort&&$("#sortby").data("load",1),$("#separate-group").after(data.html),$("#separate-group").parent().find(".loading-icon").remove()}))},Ajaxcall}));

//# sourceMappingURL=ajaxcalls.min.js.map