{"version":3,"file":"grademanage.min.js","sources":["../src/grademanage.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Video assessment\n *\n * @package\n * @copyright  2024 Don Hinkleman (hinkelman@mac.com)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function ($) {\n    return {\n        init_grademanage: function () {\n            var hasgrades = new Array();\n            $('.check-has-grade input').each(function () {\n                if (this.value) {\n                    hasgrades.push($(this).attr('text'));\n                    if ($('.check-has-grade').hasClass(this.name)) {\n                        var href = $('.actions .action:first-child img').attr('src');\n                        if (href && href.indexOf('document-edit') > -1) {\n                            $('.actions .action:first-child')\n                                .attr('href', '#')\n                                .on('click', function (e) {\n                                    e.preventDefault();\n                                })\n                                .attr('disabled', 'true');\n                        }\n                    }\n                }\n            });\n\n            $('.type_custom .item_with_icon a').each(function () {\n                var areaid = $(this).attr('href').split(\"?areaid=\").pop();\n                if ($.inArray(areaid, hasgrades) !== -1) {\n                    $(this)\n                        .attr('href', '#')\n                        .on('click', function (e) {\n                            e.preventDefault();\n                        })\n                        .attr('disabled', 'true');\n                }\n            });\n            var helpbtn = $('#fgroup_id_notificationcarriergroup').next().find('.col-md-9').find('.btn.btn-link');\n            helpbtn.addClass('float-sm-right');\n            $('#fgroup_id_notificationcarriergroup').next().find('.col-md-3').append(helpbtn);\n\n            var classhelpbtn = $('#fitem_id_gradecat').next().find('.col-md-9').find('.btn.btn-link');\n            classhelpbtn.addClass('float-sm-right');\n            $('#fitem_id_gradecat').next().find('.col-md-3').append(classhelpbtn);\n\n            $('#id_quickSetupButton').removeClass('btn-secondary').addClass('btn-primary');\n            $('#id_quickSetupButton').on('click', function (e) {\n                e.preventDefault();\n                M.core_formchangechecker.reset_form_dirty_state();\n                var quickSetupform = $('#id_quickSetupButton').closest('.mform');\n                var action = $('input[name=\"quickSetupFormUrl\"]').val();\n                quickSetupform.attr('action', action);\n                $('input[name=\"isquickSetup\"]').val(1);\n                quickSetupform.submit();\n            });\n        }\n    };\n});\n"],"names":["define","$","init_grademanage","hasgrades","Array","each","this","value","push","attr","hasClass","name","href","indexOf","on","e","preventDefault","areaid","split","pop","inArray","helpbtn","next","find","addClass","append","classhelpbtn","removeClass","M","core_formchangechecker","reset_form_dirty_state","quickSetupform","closest","action","val","submit"],"mappings":";;;;;;;AAsBAA,yCAAO,CAAC,WAAW,SAAUC,SAClB,CACHC,iBAAkB,eACVC,UAAY,IAAIC,MACpBH,EAAE,0BAA0BI,MAAK,cACzBC,KAAKC,QACLJ,UAAUK,KAAKP,EAAEK,MAAMG,KAAK,SACxBR,EAAE,oBAAoBS,SAASJ,KAAKK,OAAO,KACvCC,KAAOX,EAAE,oCAAoCQ,KAAK,OAClDG,MAAQA,KAAKC,QAAQ,kBAAoB,GACzCZ,EAAE,gCACGQ,KAAK,OAAQ,KACbK,GAAG,SAAS,SAAUC,GACnBA,EAAEC,oBAELP,KAAK,WAAY,YAMtCR,EAAE,kCAAkCI,MAAK,eACjCY,OAAShB,EAAEK,MAAMG,KAAK,QAAQS,MAAM,YAAYC,OACd,IAAlClB,EAAEmB,QAAQH,OAAQd,YAClBF,EAAEK,MACGG,KAAK,OAAQ,KACbK,GAAG,SAAS,SAAUC,GACnBA,EAAEC,oBAELP,KAAK,WAAY,eAG1BY,QAAUpB,EAAE,uCAAuCqB,OAAOC,KAAK,aAAaA,KAAK,iBACrFF,QAAQG,SAAS,kBACjBvB,EAAE,uCAAuCqB,OAAOC,KAAK,aAAaE,OAAOJ,aAErEK,aAAezB,EAAE,sBAAsBqB,OAAOC,KAAK,aAAaA,KAAK,iBACzEG,aAAaF,SAAS,kBACtBvB,EAAE,sBAAsBqB,OAAOC,KAAK,aAAaE,OAAOC,cAExDzB,EAAE,wBAAwB0B,YAAY,iBAAiBH,SAAS,eAChEvB,EAAE,wBAAwBa,GAAG,SAAS,SAAUC,GAC5CA,EAAEC,iBACFY,EAAEC,uBAAuBC,6BACrBC,eAAiB9B,EAAE,wBAAwB+B,QAAQ,UACnDC,OAAShC,EAAE,mCAAmCiC,MAClDH,eAAetB,KAAK,SAAUwB,QAC9BhC,EAAE,8BAA8BiC,IAAI,GACpCH,eAAeI"}