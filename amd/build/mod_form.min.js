/**
 * Video assessment
 *
 * @package
 * @module     mod_videoassessment/mod_form
 * @copyright  2024 Don Hinkleman (hinkelman@mac.com)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_videoassessment/mod_form",["jquery"],(function($){return{initTrainingChange:function(){const training=$("#id_training"),video=$("#fitem_id_trainingvideo"),point=$("#fitem_id_accepteddifference"),desc=$("#fitem_id_trainingdesc");training.length&&(1!=training.val()&&(video.hide(),point.hide(),desc.hide()),training.on("change",(function(){1==$(this).val()?(video.show(),point.show(),desc.show()):(video.hide(),point.hide(),desc.hide())})))},initQuickSetupPeerChange:function(){$("#id_peerassess").on("change",(function(){$(this).val()>0&&$("#id_numberofpeers").find('option[value="1"]').prop("selected",!0)}))},initFairnessBonusChange:function(){function toggleBonusFields(toggleId,fields){const toggle=$(toggleId);if(toggle.length){1!=toggle.val()&&fields.forEach((f=>$(f).hide())),toggle.on("change",(function(){1==$(this).val()?fields.forEach((f=>$(f).show())):fields.forEach((f=>$(f).hide()))}))}}toggleBonusFields("#id_fairnessbonus",["#fitem_id_bonuspercentage","#fgroup_id_bonusscoregroup1","#fgroup_id_bonusscoregroup2","#fgroup_id_bonusscoregroup3","#fgroup_id_bonusscoregroup4","#fgroup_id_bonusscoregroup5","#fgroup_id_bonusscoregroup6"]),toggleBonusFields("#id_selffairnessbonus",["#fitem_id_selfbonuspercentage","#fgroup_id_selfbonusscoregroup1","#fgroup_id_selfbonusscoregroup2","#fgroup_id_selfbonusscoregroup3","#fgroup_id_selfbonusscoregroup4","#fgroup_id_selfbonusscoregroup5","#fgroup_id_selfbonusscoregroup6"])},initUploadTypeChange:function(){const uploadRadio=$("#id_upload_0"),youtubeRadio=$("#id_upload_1"),recordNewVideo=$("#id_upload_2"),precent=$("#fitem_id_precent").length?$("#fitem_id_precent"):$("#fitem_id_mobilevideo"),video=$("#fitem_id_video").length?$("#fitem_id_video"):$("#fitem_id_mobilevideo"),url=$("#id_url").length?$("#id_url"):$("#id_mobileurl"),recordContent=$("#recordrtc"),submitButtons=$("#fgroup_id_buttonar");$("#mobileform").length&&$("#fgroup_id_recordradios").hide(),$(".col-md-3").each((function(){0==$(this).children().length&&$(this).remove()}));const rearrangeRadios=(groupId,radioId)=>{if($(groupId).length){const radio=$(radioId).parent(),target=$(groupId).children("div").first(),label=$(groupId).find("span a");target.append(radio),target.append(label)}};rearrangeRadios("#fgroup_id_radios","#id_upload_1"),rearrangeRadios("#fgroup_id_recordradios","#id_upload_2"),youtubeRadio.length&&(uploadRadio.prop("checked",!1),recordNewVideo.prop("checked",!1),youtubeRadio.prop("checked",!0));const updateVisibility=()=>{uploadRadio.is(":checked")?(url.hide(),recordContent.hide(),video.show(),precent.show(),submitButtons.show()):youtubeRadio.is(":checked")?(video.hide(),precent.hide(),recordContent.hide(),url.show(),submitButtons.show()):recordNewVideo.is(":checked")&&(video.hide(),url.hide(),precent.hide(),recordContent.show(),submitButtons.hide())};uploadRadio.on("change",updateVisibility),youtubeRadio.on("change",updateVisibility),recordNewVideo.on("change",updateVisibility),updateVisibility()},initNotificationFormChange:function(){const toggleGroup=(btnClass,groupId)=>{$(document).on("click",btnClass,(function(e){e.preventDefault();const btn=$(this);btn.hasClass("expanded")?(btn.removeClass("expanded").addClass("collapsed"),$(groupId).hide()):(btn.removeClass("collapsed").addClass("expanded"),$(groupId).show())}))};toggleGroup(".teacher-notification-displaybtn","#fgroup_id_teachernotificationgroup"),toggleGroup(".reminder-notification-displaybtn","#fgroup_id_remindernotificationgroup"),toggleGroup(".peer-notification-displaybtn","#fgroup_id_peernotificationgroup"),toggleGroup(".video-notification-displaybtn","#fgroup_id_videonotificationgroup"),$("#fgroup_id_teachernotificationgroup").hide(),$("#fgroup_id_remindernotificationgroup").hide(),$("#fgroup_id_peernotificationgroup").hide(),$("#fgroup_id_videonotificationgroup").hide(),$("#id_isbeforeduedate").parent().css("width","auto"),$("#id_isafterduedate").parent().css("width","auto")}}}));

//# sourceMappingURL=mod_form.min.js.map