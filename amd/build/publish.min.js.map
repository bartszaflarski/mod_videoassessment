{"version":3,"file":"publish.min.js","sources":["../src/publish.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Video assessment\n *\n * @package\n * @module     mod_videoassessment/publish\n * @copyright  2024 Don Hinkleman (hinkelman@mac.com)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function ($) {\n    return {\n        mobilepublishvideo: function () {\n            $('#publish-category').change(function () {\n                var catid = $(this).val();\n                var currentcourseid = $('#publish-course').val();\n                var ajaxx = require(\"mod_videoassessment/ajaxcalls\");\n                var ajaxgcbc = new ajaxx();\n                ajaxgcbc.getcoursesbycategory(\"getcoursesbycategory\", catid, currentcourseid);\n            }).change();\n\n            $('#publish-course').change(function () {\n                var courseid = $(this).val();\n                var currentsectionid = $('#publish-section').val();\n\n                if (courseid != 0) {\n                    $('#publish-fullname').attr('disabled', 'disabled');\n                    $('#publish-shortname').attr('disabled', 'disabled');\n                    var ajaxx = require(\"mod_videoassessment/ajaxcalls\");\n                    var ajaxgsbc = new ajaxx();\n                    ajaxgsbc.getsectionsbycourse(\"getsectionsbycourse\", courseid, currentsectionid);\n                    $('#publish-fullname').attr('disabled', 'disabled').val('');\n                    $('#publish-shortname').attr('disabled', 'disabled').val('');\n                } else {\n                    $('#publish-section').attr('disabled', 'disabled').html('');\n                    $('#publish-fullname').removeAttr('disabled');\n                    $('#publish-shortname').removeAttr('disabled');\n                }\n            }).change();\n\n            $(document).on('change', '.video-check', function () {\n                var check = $(this).prop('checked');\n                var count = $('#video-count').val();\n\n                if (check) {\n                    count++;\n                } else {\n                    count--;\n                }\n\n                $('#video-count').val(count);\n            });\n\n            $(document).on('change', '#all-video-check', function () {\n                var check = $(this).prop('checked');\n                var count;\n\n                if (check) {\n                    count = $('.video-check').size();\n                } else {\n                    count = 0;\n                }\n\n                $('#video-count').val(count);\n            });\n        }\n    };\n\n});\n\n"],"names":["define","$","mobilepublishvideo","change","catid","this","val","currentcourseid","require","getcoursesbycategory","courseid","currentsectionid","attr","getsectionsbycourse","html","removeAttr","document","on","check","prop","count","size"],"mappings":";;;;;;;;AAwBAA,qCAAO,CAAC,WAAW,SAAUC,SAClB,CACHC,mBAAoB,WAChBD,EAAE,qBAAqBE,QAAO,eACtBC,MAAQH,EAAEI,MAAMC,MAChBC,gBAAkBN,EAAE,mBAAmBK,OAE5B,IADHE,QAAQ,mCAEXC,qBAAqB,uBAAwBL,MAAOG,oBAC9DJ,SAEHF,EAAE,mBAAmBE,QAAO,eACpBO,SAAWT,EAAEI,MAAMC,MACnBK,iBAAmBV,EAAE,oBAAoBK,MAE7B,GAAZI,UACAT,EAAE,qBAAqBW,KAAK,WAAY,YACxCX,EAAE,sBAAsBW,KAAK,WAAY,aAE1B,IADHJ,QAAQ,mCAEXK,oBAAoB,sBAAuBH,SAAUC,kBAC9DV,EAAE,qBAAqBW,KAAK,WAAY,YAAYN,IAAI,IACxDL,EAAE,sBAAsBW,KAAK,WAAY,YAAYN,IAAI,MAEzDL,EAAE,oBAAoBW,KAAK,WAAY,YAAYE,KAAK,IACxDb,EAAE,qBAAqBc,WAAW,YAClCd,EAAE,sBAAsBc,WAAW,gBAExCZ,SAEHF,EAAEe,UAAUC,GAAG,SAAU,gBAAgB,eACjCC,MAAQjB,EAAEI,MAAMc,KAAK,WACrBC,MAAQnB,EAAE,gBAAgBK,MAE1BY,MACAE,QAEAA,QAGJnB,EAAE,gBAAgBK,IAAIc,UAG1BnB,EAAEe,UAAUC,GAAG,SAAU,oBAAoB,eAErCG,MAGAA,MAJQnB,EAAEI,MAAMc,KAAK,WAIblB,EAAE,gBAAgBoB,OAElB,EAGZpB,EAAE,gBAAgBK,IAAIc"}