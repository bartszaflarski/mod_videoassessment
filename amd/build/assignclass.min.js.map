{"version":3,"file":"assignclass.min.js","sources":["../src/assignclass.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Video assessment\n *\n * @package\n * @copyright  2024 Don Hinkleman (hinkelman@mac.com)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function ($) {\n    return {\n        assignclassSortByGroup: function () {\n            $(document).ready(function () {\n                var sort = $('#sortby').val();\n                var groupid = $('#separate-group').val();\n\n                var id = $('.sort-form input[type=\"hidden\"][name=\"id\"]').val();\n                var loadingIcon = '<div class=\"loading-icon\">' +\n                    '<i class=\"fa fa-refresh fa-spin fa-3x fa-fw margin-bottom\"></i>' +\n                    '</div>';\n                $('#separate-group').after(loadingIcon);\n                var ajaxx = require(\"mod_videoassessment/ajaxcalls\");\n                var ajaxacsg = new ajaxx();\n                ajaxacsg.assignclasssortgroup(\"assignclasssortgroup\", sort, groupid, id);\n            });\n            // Load sort manually list.\n            $('#sortby').change(function () {\n                var t = $(this);\n                var sort = $('#sortby').val();\n                var groupid = $('#separate-group').val();\n                var load = $('#sortby').data('load');\n\n                $('.id_order_students').remove();\n\n                if (sort == 3 && load == 1) {\n                    $('#manually-list').removeClass('hidden');\n                } else {\n                    var id = t.closest('form').find('input[type=\"hidden\"][name=\"id\"]').val();\n                    var loadingIcon = '<div class=\"loading-icon\">' +\n                        '<i class=\"fa fa-refresh fa-spin fa-3x fa-fw margin-bottom\"></i>' +\n                        '</div>';\n                    $('#separate-group').after(loadingIcon);\n                    var ajaxx = require(\"mod_videoassessment/ajaxcalls\");\n                    var ajaxacsg = new ajaxx();\n                    ajaxacsg.assignclasssortgroup(\"assignclasssortgroup\", sort, groupid, id);\n                    if (sort != 3) {\n                        $('#manually-list').addClass('hidden');\n                    }\n                }\n            });\n\n            $('#separate-group').change(function () {\n                var url = $(this).closest('form').attr('action');\n                var id = $(this).closest('form').find('input[type=\"hidden\"][name=\"id\"]').val();\n                var groupid = $(this).val();\n                M.core_formchangechecker.set_form_submitted();\n                window.location.replace(url + '?id=' + id + '&groupid=' + groupid);\n            });\n        }\n    };\n});\n\n"],"names":["define","$","assignclassSortByGroup","document","ready","sort","val","groupid","id","after","require","assignclasssortgroup","change","t","this","load","data","remove","removeClass","closest","find","addClass","url","attr","M","core_formchangechecker","set_form_submitted","window","location","replace"],"mappings":";;;;;;;AAsBAA,yCAAO,CAAC,WAAW,SAAUC,SAClB,CACHC,uBAAwB,WACpBD,EAAEE,UAAUC,OAAM,eACVC,KAAOJ,EAAE,WAAWK,MACpBC,QAAUN,EAAE,mBAAmBK,MAE/BE,GAAKP,EAAE,8CAA8CK,MAIzDL,EAAE,mBAAmBQ,MAHH,oGAKH,IADHC,QAAQ,mCAEXC,qBAAqB,uBAAwBN,KAAME,QAASC,OAGzEP,EAAE,WAAWW,QAAO,eACZC,EAAIZ,EAAEa,MACNT,KAAOJ,EAAE,WAAWK,MACpBC,QAAUN,EAAE,mBAAmBK,MAC/BS,KAAOd,EAAE,WAAWe,KAAK,WAE7Bf,EAAE,sBAAsBgB,SAEZ,GAARZ,MAAqB,GAARU,KACbd,EAAE,kBAAkBiB,YAAY,cAC7B,KACCV,GAAKK,EAAEM,QAAQ,QAAQC,KAAK,mCAAmCd,MAInEL,EAAE,mBAAmBQ,MAHH,oGAKH,IADHC,QAAQ,mCAEXC,qBAAqB,uBAAwBN,KAAME,QAASC,IACzD,GAARH,MACAJ,EAAE,kBAAkBoB,SAAS,cAKzCpB,EAAE,mBAAmBW,QAAO,eACpBU,IAAMrB,EAAEa,MAAMK,QAAQ,QAAQI,KAAK,UACnCf,GAAKP,EAAEa,MAAMK,QAAQ,QAAQC,KAAK,mCAAmCd,MACrEC,QAAUN,EAAEa,MAAMR,MACtBkB,EAAEC,uBAAuBC,qBACzBC,OAAOC,SAASC,QAAQP,IAAM,OAASd,GAAK,YAAcD"}